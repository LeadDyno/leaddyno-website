---
layout: guide
title: "Affiliate Tracking Software & Online Marketing System: LeadDyno"
nav: guide > installation
---
  <div class="sidebar-nav affix">
  </div>

<h3>Installation Instructions</h3>
<hr/>

<h4>Account Setup</h4>

<p>
  The first step in installing LeadDyno is to sign up for an account <a
  href="https://app.leaddyno.com/users/sign_up">here</a> then get your public and private keys via <a
  href="https://app.leaddyno.com/settings/account">Your Account Page</a>.
</p>

<a class="docs-anchor" id='visitor_tracking'>&nbsp;</a>
<h4>Visitor Tracking</h4>

<p>To get visitor tracking working with LeadDyno, you will need to install the LeadDyno javascript library
  on your
  site. The following code will load the LeadDyno library from our highly-available Content Distribution
  Network:</p>

        <pre
          class="prettyprint"> &lt;script type="text/javascript" src="https://static.leaddyno.com/js">&lt;/script></pre>

<p>Then add the following code on every page on your site:</p>

              <pre class="prettyprint">
 &lt;script>
  LeadDyno.key = "<span class="pub-key-rep">YOUR_PUBLIC_KEY</span>";
  LeadDyno.recordVisit();
 &lt;/script></pre>


<p class="pub-key-inst">Where "YOUR_PUBLIC_KEY" is replaced with the public key from your user page
  above.</p>


<div class="alert alert-info">
  <i class="icon-exclamation"></i> This code should be on every page that incoming users might land on,
  similar to Google Analytics.
</div>

<p>If your site is spread across multiple sub-domains and visitors might land on any of them, you should set the
  root domain so LeadDyno sets its tracking cookies correctly:
</p>

                      <pre class="prettyprint">
 &lt;script>
  LeadDyno.domain = "yourdomain.com";
  LeadDyno.key = "<span class="pub-key-rep">YOUR_PUBLIC_KEY</span>";
  LeadDyno.recordVisit();
 &lt;/script></pre>


<a class="docs-anchor" id='lead_tracking'>&nbsp;</a>
<h4>Lead Tracking</h4>

<p> The next step is to capture the email address of your visitors. To do this you will need to invoke the
  <code>recordLead()</code>
  method
  of the Javascript library:</p>

              <pre class="prettyprint">
 &lt;script>
  LeadDyno.key = "<span class="pub-key-rep">YOUR_PUBLIC_KEY</span>";
  var leadEmail = ...;
  LeadDyno.recordLead(leadEmail);
 &lt;/script></pre>

<p>How the <code>leadEmail</code> variable is retrieved depends on your website design. A common case is to
  capture the lead email in a signup or opt-in form via Javascript/JQuery:</p>

<pre class="prettyprint">
  &lt;script>
    $("#signup-form").submit(function(){
      LeadDyno.recordLead($("input[name='email']").val());
    });
  &lt;/script></pre>

<p>If the sign up or opt-in form submits to a <strong>different domain</strong>, then you will need to block
  the
  form submission until LeadDyno has completed the registration, via a callback:</p>

<pre class="prettyprint">
 &lt;script>
    $("#signup-form").submit(function(){
      if(!$(this).data('ld-registered')) {
        LeadDyno.recordLead($("input[name='email']").val(), function(){
          $("#signup-form").data('ld-registered', true);
          $("#signup-form").submit();
        });
        return false;
      } else {
        return true;
      }
    });
 &lt;/script></pre>

<p>Finally, if you have a thank you page for users after they sign up where you have access to their email
  address,
  you can simply use a mix of client and server side code. Here is some example Ruby/ERB:</p>

    <pre class="prettyprint">
  &lt;script>
    LeadDyno.recordLead("&lt;%= current_user.email %>");
  &lt;/script></pre>

<p>And in PHP:</p>
                <pre class="prettyprint">
&lt;?php
 $userdetails = fetchUserDetails($useraccess);
 $email = $userdetails["Email"];
?>
&lt;script>
 LeadDyno.recordLead("&lt;?php echo $email ?>");
&lt;/script></pre>

<a class="docs-anchor" id='purchase_tracking'>&nbsp;</a>
<h4>Purchase Tracking</h4>


<p>Purchase tracking can be done either client side, via the Javascript library, or server to server, using
  our
  <a href="rest-api.html">REST API</a>.</p>

<div class="alert alert-info">
  <strong>Note:</strong> Purchases created via the javascript library will need to be approved
  via the <a href="https://app.leaddyno.com/purchases/approve">Pending Purchases</a> UI before they will be
  credited to affiliates.
</div>

        <pre class="prettyprint">
  &lt;script>
    var email = ...
    var purchaseCode = ...
    LeadDyno.recordPurchase(email, purchaseCode);
  &lt;/script></pre>

<p>Note that you will need to pass in both the email as well as a unique purchase code for the purchase.
  This is
  typically done on a "Thank You" page, after a purchase is made.</p>

<a class="docs-anchor" id='cancellation_tracking'>&nbsp;</a>
<h4>Cancellation Tracking</h4>


<p>Cancellation tracking, like purchase tracking, can be done either client side, via the
  Javascript library, or server to server, using our <a href="rest-api.html">REST API</a>.</p>

<div class="alert alert-info">
  <strong>Note:</strong> As with purchases, cancellations made via the javascript library will need to be
  approved
  via the <a href="https://app.leaddyno.com/purchases/approve_cancellations">Pending Cancellations</a> UI
  before they will be
  accepted.
</div>

        <pre class="prettyprint">
  &lt;script>
    var email = ...
    LeadDyno.recordCancellation(email);
  &lt;/script></pre>

<h3>Affiliate Tools</h3>
<hr/>

<a class="docs-anchor" id='affiliate_form'>&nbsp;</a>
<h4>Affiliate Sign Up Form</h4>

<p>If you'd like to enable anyone to join your affiliate program, you can use this form:</p>

        <pre class="prettyprint">
    &lt;form action="https://app.leaddyno.com/provision" method="post">
      &lt;label>Enter Your Email:&lt;/label>
      &lt;input name="email"/>
      &lt;input type="hidden" name="key" value="<span class="pub-key-rep">YOUR_PUBLIC_KEY</span>"/>
      &lt;input type="submit" value="Join Our Affiliate Program"/>
    &lt;/form></pre>

<p>Which will render like so:</p>

<form action="https://app.leaddyno.com/provision" method="post">
  <label>Enter Your Email:</label>
  <input name="email"/>
  <input type="hidden" name="key" value="9d7969b29fee56ee8ab1d747c1b41a2cd7a5e1ce"/>
  <input type="submit" value="Join Our Affiliate Program"/>
</form>

<div class="alert alert-info">
  <strong>Note:</strong> This form is hooked up to the LeadDyno affiliate program, please join it and recommend
  us!
</div>

<a class="docs-anchor" id='affiliate_link'>&nbsp;</a>
<h4>Affiliate Link/Button</h4>

<p>If you have a users email (for example, if they are signed in on your site, or have just made a purchase,
  you can render a link, rather than a form, to join your affiliate program:</p>

        <pre class="prettyprint">
&lt;a href="https://app.leadyno.com/provision?email=example%40example.com&key=<span class="pub-key-rep">YOUR_PUBLIC_KEY</span>">
  Click To Join Our Affiliate Program
&lt;a>
        </pre>

<p>Note that you will need to URL escape the email address of the user, and that you can style the link
  however you'd like</p>


<a class="docs-anchor" id='sharing_buttons'>&nbsp;</a>
<h4>Share Buttons</h4>

<p>You can create share buttons that are tracked and tied to the content managed in the <a
  href="https://app.leaddyno.com/content">Social Content</a> section of LeadDyno using our 'instant share'
  functionality. This will provision someone as an affiliate and then send them on to the target social medium
  in a single action.</p>

<p>Here is example form code:</p>


        <pre class="prettyprint">
  &lt;form id="sharing_form" class="sharing_form" target="_blank" action="https://app.leaddyno.com/instant_share" method="get">
    &lt;input type="hidden" name="key" value="<span class="pub-key-rep">YOUR_PUBLIC_KEY</span>"/>
    &lt;strong>Enter Your Email:&lt;/strong> &lt;input type="text" name="email">
    &lt;br/>
    &lt;input style="background: white url('http://leaddyno.com/images/social/32px/Facebook.png'); margin-bottom: -10px; border: 0; height: 32px; width: 32px; line-height: 999px; overflow: hidden; font-size: 0;"
              name="type"
              value="facebook"
              type="submit"
              alt="Share on Facebook" />
    &lt;input style="background: white url('http://leaddyno.com/images/social/32px/Twitter.png')"
              name="type"
              value="twitter"
              type="submit"
              alt="Share on Facebook" />
  &lt;/form>

        </pre>

<p>And here it is in practice:</p>

<div class="pagination-centered">
  <form id="sharing_form" class="sharing_form" target="_blank" action="https://app.leaddyno.com/instant_share"
        method="get">
    <input type="hidden" name="key" value="9d7969b29fee56ee8ab1d747c1b41a2cd7a5e1ce"/>
    <strong>Enter Your Email:</strong> <input type="text" name="email">
    <br/>
    <input style="background: white url('http://leaddyno.com/images/social/32px/Facebook.png'); margin-bottom: -10px; border: 0; height: 32px; width: 32px; line-height: 999px; overflow: hidden; font-size: 0;"
           name="type"
           value="facebook"
           type="submit"
           alt="Share on Facebook"/>
    <input style="background: white url('http://leaddyno.com/images/social/32px/Twitter.png'); margin-bottom: -10px; border: 0; height: 32px; width: 32px; line-height: 999px; overflow: hidden; font-size: 0;"
           class="share-link"
           name="type"
           value="twitter"
           type="submit"
           alt="Share on Twiiter"/>
    <input style="background: white url('http://leaddyno.com/images/social/32px/Mail.png'); margin-bottom: -10px; border: 0; height: 32px; width: 32px; line-height: 999px; overflow: hidden; font-size: 0;"
           class="share-link"
           name="type"
           value="email"
           type="submit"
           alt="Share via email"/>
    <input style="background: white url('http://leaddyno.com/images/social/32px/LinkedIn.png'); margin-bottom: -10px; border: 0; height: 32px; width: 32px; line-height: 999px; overflow: hidden; font-size: 0;"
           class="share-link"
           name="type"
           value="linkedin"
           type="submit"
           alt="Share on LinkedIn"/>
    <input style="background: white url('http://leaddyno.com/images/social/32px/Google+.png'); margin-bottom: -10px; border: 0; height: 32px; width: 32px; line-height: 999px; overflow: hidden; font-size: 0;"
           class="share-link"
           name="type"
           value="gplus"
           type="submit"
           alt="Share on Google+"/>
  </form>
</div>

<div class="alert alert-info">
  <strong>Note:</strong> Again, these buttons are hooked up to LeadDyno's account, please share us!
</div>

<p>
  In this form, <code>email</code> and <code>key</code> are the usual suspects, and an additional parameter, <code>type</code> is set depending on the
  submit button clicked..  The values for <code>type</code> can be:
</p>

<ul>
  <li>twitter - Posts a tweet</li>
  <li>email - Creates an email</li>
  <li>facebook - Posts to Facebook</li>
  <li>gplus - posts to Google+</li>
  <li>linkedin - posts to LinkedIn</li>
</ul>

<p>
  As with the affiliate signup URL, <a href="https://app.leaddyno.com/instant_share">https://app.leaddyno.com/instant_share</a> accepts both
  GET and POST, so you can render these as simple links if you have the email for your user available:
</p>

        <pre class="prettyprint">
&lt;a href="https://app.leadyno.com/instant_share?email=example%40example.com&key=<span class="pub-key-rep">YOUR_PUBLIC_KEY</span>&type=twitter">
  Share Us On Twitter
&lt;a>
        </pre>

<p>
  Finally, if you want to override the standard social content of a tweet or post defined on the
  <a href="https://app.leaddyno.com/content">Social Content</a> page, you can use the following form variables
  to do so
</p>

<ul>
  <li>facebook_subject - Change the facebook subject</li>
  <li>facebook_message - Change the facebook message</li>
  <li>twitter_message - Change the twitter message</li>
  <li>linkedin_subject - Change the linkedin subject</li>
  <li>linkedin_message - Change the linkedin message</li>
  <li>email_subject - Change the email subject</li>
  <li>email_message - Change the email message</li>
</ul>

<div class="alert alert-info">
  <strong>Note:</strong> Links and URLs in these variables will be specialized for affiliates automatically.
</div>
